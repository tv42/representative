// Code generated by github.com/tv42/becky -- DO NOT EDIT.

package static

var _ = addAsset(asset{Name: "slides.js", Content: "" +
	"// Copyright 2012 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\nvar loc = document.currentScript.src;\nvar PERMANENT_URL_PREFIX = loc.substring(0, loc.lastIndexOf('/')+1);\n\nvar SLIDE_CLASSES = ['far-past', 'past', 'current', 'next', 'far-next'];\n\nvar PM_TOUCH_SENSITIVITY = 15;\n\nvar curSlide;\n\n/* ---------------------------------------------------------------------- */\n/* classList polyfill by Eli Grey\n * (http://purl.eligrey.com/github/classList.js/blob/master/classList.js) */\n\nif (typeof document !== 'undefined' && !('classList' in document.createElement('a'))) {\n\n(function (view) {\n\nvar\n    classListProp = 'classList'\n  , protoProp = 'prototype'\n  , elemCtrProto = (view.HTMLElement || view.Element)[protoProp]\n  , objCtr = Object\n    strTrim = String[protoProp].trim || function () {\n    return this.replace(/^\\s+|\\s+$/g, '');\n  }\n  , arrIndexOf = Array[protoProp].indexOf || function (item) {\n    for (var i = 0, len = this.length; i < len; i++) {\n      if (i in this && this[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  // Vendors: please allow content code to instantiate DOMExceptions\n  , DOMEx = function (type, message) {\n    this.name = type;\n    this.code = DOMException[type];\n    this.message = message;\n  }\n  , checkTokenAndGetIndex = function (classList, token) {\n    if (token === '') {\n      throw new DOMEx(\n          'SYNTAX_ERR'\n        , 'An invalid or illegal string was specified'\n      );\n    }\n    if (/\\s/.test(token)) {\n      throw new DOMEx(\n          'INVALID_CHARACTER_ERR'\n        , 'String contains an invalid character'\n      );\n    }\n    return arrIndexOf.call(classList, token);\n  }\n  , ClassList = function (elem) {\n    var\n        trimmedClasses = strTrim.call(elem.className)\n      , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n    ;\n    for (var i = 0, len = classes.length; i < len; i++) {\n      this.push(classes[i]);\n    }\n    this._updateClassName = function () {\n      elem.className = this.toString();\n    };\n  }\n  , classListProto = ClassList[protoProp] = []\n  , classListGetter = function () {\n    return new ClassList(this);\n  }\n;\n// Most DOMException implementations don't allow calling DOMException's toString()\n// on non-DOMExceptions. Error's toString() is sufficient here.\nDOMEx[protoProp] = Error[protoProp];\nclassListProto.item = function (i) {\n  return this[i] || null;\n};\nclassListProto.contains = function (token) {\n  token += '';\n  return checkTokenAndGetIndex(this, token) !== -1;\n};\nclassListProto.add = function (token) {\n  token += '';\n  if (checkTokenAndGetIndex(this, token) === -1) {\n    this.push(token);\n    this._updateClassName();\n  }\n};\nclassListProto.remove = function (token) {\n  token += '';\n  var index = checkTokenAndGetIndex(this, token);\n  if (index !== -1) {\n    this.splice(index, 1);\n    this._updateClassName();\n  }\n};\nclassListProto.toggle = function (token) {\n  token += '';\n  if (checkTokenAndGetIndex(this, token) === -1) {\n    this.add(token);\n  } else {\n    this.remove(token);\n  }\n};\nclassListProto.toString = function () {\n  return this.join(' ');\n};\n\nif (objCtr.defineProperty) {\n  var classListPropDesc = {\n      get: classListGetter\n    , enumerable: true\n    , configurable: true\n  };\n  try {\n    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n  } catch (ex) { // IE 8 doesn't support enumerable:true\n    if (ex.number === -0x7FF5EC54) {\n      classListPropDesc.enumerable = false;\n      objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n    }\n  }\n} else if (objCtr[protoProp].__defineGetter__) {\n  elemCtrProto.__defineGetter__(classListProp, classListGetter);\n}\n\n}(self));\n\n}\n/* ---------------------------------------------------------------------- */\n\n/* Slide movement */\n\nfunction hideHelpText() {\n  document.getElementById('help').style.display = 'none';\n};\n\nfunction getSlideEl(no) {\n  if ((no < 0) || (no >= slideEls.length)) {\n    return null;\n  } else {\n    return slideEls[no];\n  }\n};\n\nfunction updateSlideClass(slideNo, className) {\n  var el = getSlideEl(slideNo);\n\n  if (!el) {\n    return;\n  }\n\n  if (className) {\n    el.classList.add(className);\n  }\n\n  for (var i in SLIDE_CLASSES) {\n    if (className != SLIDE_CLASSES[i]) {\n      el.classList.remove(SLIDE_CLASSES[i]);\n    }\n  }\n};\n\nfunction updateSlides() {\n  if (window.trackPageview) window.trackPageview();\n\n  for (var i = 0; i < slideEls.length; i++) {\n    switch (i) {\n      case curSlide - 2:\n        updateSlideClass(i, 'far-past');\n        break;\n      case curSlide - 1:\n        updateSlideClass(i, 'past');\n        break;\n      case curSlide:\n        updateSlideClass(i, 'current');\n        break;\n      case curSlide + 1:\n        updateSlideClass(i, 'next');\n        break;\n      case curSlide + 2:\n        updateSlideClass(i, 'far-next');\n        break;\n      default:\n        updateSlideClass(i);\n        break;\n    }\n  }\n\n  triggerLeaveEvent(curSlide - 1);\n  triggerEnterEvent(curSlide);\n\n  window.setTimeout(function() {\n    // Hide after the slide\n    disableSlideFrames(curSlide - 2);\n  }, 301);\n\n  enableSlideFrames(curSlide - 1);\n  enableSlideFrames(curSlide + 2);\n\n  updateHash();\n};\n\nfunction prevSlide() {\n  hideHelpText();\n  if (curSlide > 0) {\n    curSlide--;\n\n    updateSlides();\n  }\n\n  if (notesEnabled) localStorage.setItem(destSlideKey(), curSlide);\n};\n\nfunction nextSlide() {\n  hideHelpText();\n  if (curSlide < slideEls.length - 1) {\n    curSlide++;\n\n    updateSlides();\n  }\n\n  if (notesEnabled) localStorage.setItem(destSlideKey(), curSlide);\n};\n\n/* Slide events */\n\nfunction triggerEnterEvent(no) {\n  var el = getSlideEl(no);\n  if (!el) {\n    return;\n  }\n\n  var onEnter = el.getAttribute('onslideenter');\n  if (onEnter) {\n    new Function(onEnter).call(el);\n  }\n\n  var evt = document.createEvent('Event');\n  evt.initEvent('slideenter', true, true);\n  evt.slideNumber = no + 1; // Make it readable\n\n  el.dispatchEvent(evt);\n};\n\nfunction triggerLeaveEvent(no) {\n  var el = getSlideEl(no);\n  if (!el) {\n    return;\n  }\n\n  var onLeave = el.getAttribute('onslideleave');\n  if (onLeave) {\n    new Function(onLeave).call(el);\n  }\n\n  var evt = document.createEvent('Event');\n  evt.initEvent('slideleave', true, true);\n  evt.slideNumber = no + 1; // Make it readable\n\n  el.dispatchEvent(evt);\n};\n\n/* Touch events */\n\nfunction handleTouchStart(event) {\n  if (event.touches.length == 1) {\n    touchDX = 0;\n    touchDY = 0;\n\n    touchStartX = event.touches[0].pageX;\n    touchStartY = event.touches[0].pageY;\n\n    document.body.addEventListener('touchmove', handleTouchMove, true);\n    document.body.addEventListener('touchend', handleTouchEnd, true);\n  }\n};\n\nfunction handleTouchMove(event) {\n  if (event.touches.length > 1) {\n    cancelTouch();\n  } else {\n    touchDX = event.touches[0].pageX - touchStartX;\n    touchDY = event.touches[0].pageY - touchStartY;\n    event.preventDefault();\n  }\n};\n\nfunction handleTouchEnd(event) {\n  var dx = Math.abs(touchDX);\n  var dy = Math.abs(touchDY);\n\n  if ((dx > PM_TOUCH_SENSITIVITY) && (dy < (dx * 2 / 3))) {\n    if (touchDX > 0) {\n      prevSlide();\n    } else {\n      nextSlide();\n    }\n  }\n\n  cancelTouch();\n};\n\nfunction cancelTouch() {\n  document.body.removeEventListener('touchmove', handleTouchMove, true);\n  document.body.removeEventListener('touchend', handleTouchEnd, true);\n};\n\n/* Preloading frames */\n\nfunction disableSlideFrames(no) {\n  var el = getSlideEl(no);\n  if (!el) {\n    return;\n  }\n\n  var frames = el.getElementsByTagName('iframe');\n  for (var i = 0, frame; frame = frames[i]; i++) {\n    disableFrame(frame);\n  }\n};\n\nfunction enableSlideFrames(no) {\n  var el = getSlideEl(no);\n  if (!el) {\n    return;\n  }\n\n  var frames = el.getElementsByTagName('iframe');\n  for (var i = 0, frame; frame = frames[i]; i++) {\n    enableFrame(frame);\n  }\n};\n\nfunction disableFrame(frame) {\n  frame.src = 'about:blank';\n};\n\nfunction enableFrame(frame) {\n  var src = frame._src;\n\n  if (frame.src != src && src != 'about:blank') {\n    frame.src = src;\n  }\n};\n\nfunction setupFrames() {\n  var frames = document.querySelectorAll('iframe');\n  for (var i = 0, frame; frame = frames[i]; i++) {\n    frame._src = frame.src;\n    disableFrame(frame);\n  }\n\n  enableSlideFrames(curSlide);\n  enableSlideFrames(curSlide + 1);\n  enableSlideFrames(curSlide + 2);\n};\n\nfunction setupInteraction() {\n  /* Clicking and tapping */\n\n  var el = document.createElement('div');\n  el.className = 'slide-area';\n  el.id = 'prev-slide-area';\n  el.addEventListener('click', prevSlide, false);\n  document.querySelector('section.slides').appendChild(el);\n\n  var el = document.createElement('div');\n  el.className = 'slide-area';\n  el.id = 'next-slide-area';\n  el.addEventListener('click', nextSlide, false);\n  document.querySelector('section.slides').appendChild(el);\n\n  /* Swiping */\n\n  document.body.addEventListener('touchstart', handleTouchStart, false);\n}\n\n/* Hash functions */\n\nfunction getCurSlideFromHash() {\n  var slideNo = parseInt(location.hash.substr(1));\n\n  if (slideNo) {\n    curSlide = slideNo - 1;\n  } else {\n    curSlide = 0;\n  }\n};\n\nfunction updateHash() {\n  location.replace('#' + (curSlide + 1));\n};\n\n/* Event listeners */\n\nfunction handleBodyKeyDown(event) {\n  // If we're in a code element, only handle pgup/down.\n  var inCode = event.target.classList.contains('code');\n\n  switch (event.keyCode) {\n    case 78: // 'N' opens presenter notes window\n      if (!inCode && notesEnabled) toggleNotesWindow();\n      break;\n    case 72: // 'H' hides the help text\n    case 27: // escape key\n      if (!inCode) hideHelpText();\n      break;\n\n    case 39: // right arrow\n    case 13: // Enter\n    case 32: // space\n      if (inCode) break;\n    case 34: // PgDn\n      nextSlide();\n      event.preventDefault();\n      break;\n\n    case 37: // left arrow\n    case 8: // Backspace\n      if (inCode) break;\n    case 33: // PgUp\n      prevSlide();\n      event.preventDefault();\n      break;\n\n    case 40: // down arrow\n      if (inCode) break;\n      nextSlide();\n      event.preventDefault();\n      break;\n\n    case 38: // up arrow\n      if (inCode) break;\n      prevSlide();\n      event.preventDefault();\n      break;\n  }\n};\n\nfunction scaleSmallViewports() {\n  var el = document.querySelector('section.slides');\n  var transform = '';\n  var sWidthPx = 1250;\n  var sHeightPx = 750;\n  var sAspectRatio = sWidthPx / sHeightPx;\n  var wAspectRatio = window.innerWidth / window.innerHeight;\n\n  if (wAspectRatio <= sAspectRatio && window.innerWidth < sWidthPx) {\n    transform = 'scale(' + window.innerWidth / sWidthPx + ')';\n  } else if (window.innerHeight < sHeightPx) {\n    transform = 'scale(' + window.innerHeight / sHeightPx + ')';\n  }\n  el.style.transform = transform;\n}\n\nfunction addEventListeners() {\n  document.addEventListener('keydown', handleBodyKeyDown, false);\n  var resizeTimeout;\n  window.addEventListener('resize', function() {\n    // throttle resize events\n    window.clearTimeout(resizeTimeout);\n    resizeTimeout = window.setTimeout(function() {\n      resizeTimeout = null;\n      scaleSmallViewports();\n    }, 50);\n  });\n\n  // Force reset transform property of section.slides when printing page.\n  // Use both onbeforeprint and matchMedia for compatibility with different browsers.\n  var beforePrint = function() {\n    var el = document.querySelector('section.slides');\n    el.style.transform = '';\n  };\n  window.onbeforeprint = beforePrint;\n  if (window.matchMedia) {\n    var mediaQueryList = window.matchMedia('print');\n    mediaQueryList.addListener(function(mql) {\n      if (mql.matches) beforePrint();\n    });\n  }\n}\n\n/* Initialization */\n\nfunction addFontStyle() {\n  var el = document.createElement('link');\n  el.rel = 'stylesheet';\n  el.type = 'text/css';\n  el.href = '//fonts.googleapis.com/css?family=' +\n            'Open+Sans:regular,semibold,italic,italicsemibold|Droid+Sans+Mono';\n\n  document.body.appendChild(el);\n};\n\nfunction addGeneralStyle() {\n  var el = document.createElement('link');\n  el.rel = 'stylesheet';\n  el.type = 'text/css';\n  el.href = PERMANENT_URL_PREFIX + 'styles.css';\n  document.body.appendChild(el);\n\n  var el = document.createElement('meta');\n  el.name = 'viewport';\n  el.content = 'width=device-width,height=device-height,initial-scale=1';\n  document.querySelector('head').appendChild(el);\n\n  var el = document.createElement('meta');\n  el.name = 'apple-mobile-web-app-capable';\n  el.content = 'yes';\n  document.querySelector('head').appendChild(el);\n\n  scaleSmallViewports();\n};\n\nfunction handleDomLoaded() {\n  slideEls = document.querySelectorAll('section.slides > article');\n\n  setupFrames();\n\n  addFontStyle();\n  addGeneralStyle();\n  addEventListeners();\n\n  updateSlides();\n\n  setupInteraction();\n\n  if (window.location.hostname == 'localhost' || window.location.hostname == '127.0.0.1' || window.location.hostname == '::1') {\n    hideHelpText();\n  }\n\n  document.body.classList.add('loaded');\n\n  setupNotesSync();\n};\n\nfunction initialize() {\n  getCurSlideFromHash();\n\n  if (window['_DEBUG']) {\n    PERMANENT_URL_PREFIX = '../';\n  }\n\n  if (window['_DCL']) {\n    handleDomLoaded();\n  } else {\n    document.addEventListener('DOMContentLoaded', handleDomLoaded, false);\n  }\n}\n\n// If ?debug exists then load the script relative instead of absolute\nif (!window['_DEBUG'] && document.location.href.indexOf('?debug') !== -1) {\n  document.addEventListener('DOMContentLoaded', function() {\n    // Avoid missing the DomContentLoaded event\n    window['_DCL'] = true\n  }, false);\n\n  window['_DEBUG'] = true;\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = '../slides.js';\n  var s = document.getElementsByTagName('script')[0];\n  s.parentNode.insertBefore(script, s);\n\n  // Remove this script\n  s.parentNode.removeChild(s);\n} else {\n  initialize();\n}\n\n/* Synchronize windows when notes are enabled */\n\nfunction setupNotesSync() {\n  if (!notesEnabled) return;\n\n  function setupPlayResizeSync() {\n    var out = document.getElementsByClassName('output');\n    for (var i = 0; i < out.length; i++) {\n      $(out[i]).bind('resize', function(event) {\n        if ($(event.target).hasClass('ui-resizable')) {\n          localStorage.setItem('play-index', i);\n          localStorage.setItem('output-style', out[i].style.cssText);\n        }\n      })\n    }\n  };\n  function setupPlayCodeSync() {\n    var play = document.querySelectorAll('div.playground');\n    for (var i = 0; i < play.length; i++) {\n      play[i].addEventListener('input', inputHandler, false);\n\n      function inputHandler(e) {\n        localStorage.setItem('play-index', i);\n        localStorage.setItem('play-code', e.target.innerHTML);\n      }\n    }\n  };\n\n  setupPlayCodeSync();\n  setupPlayResizeSync();\n  localStorage.setItem(destSlideKey(), curSlide);\n  window.addEventListener('storage', updateOtherWindow, false);\n}\n\n// An update to local storage is caught only by the other window\n// The triggering window does not handle any sync actions\nfunction updateOtherWindow(e) {\n  // Ignore remove storage events which are not meant to update the other window\n  var isRemoveStorageEvent = !e.newValue;\n  if (isRemoveStorageEvent) return;\n\n  var destSlide = localStorage.getItem(destSlideKey());\n  while (destSlide > curSlide) {\n    nextSlide();\n  }\n  while (destSlide < curSlide) {\n    prevSlide();\n  }\n\n  updatePlay(e);\n  updateNotes();\n}\n" +
	"", etag: `"Ne0i1945zLU="`})
